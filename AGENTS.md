# rxtras Agent Guidelines

## Build/Test Commands

Build and check:
```r
devtools::check()
R CMD check .
```

Update documentation (NAMESPACE):
```r
devtools::document()
```

Run all tests:
```r
devtools::test()
```

Run single test file:
```r
test_file("tests/testthat/test_string_operations.R")
```

Run tests for package:
```r
testthat::test_check("rxtras")
```

## Code Style

### Documentation
- Use roxygen2 for all exported functions
- Required tags: @title, @description, @param, @return, @export
- Optional tags: @examples, @author
- Do NOT edit NAMESPACE manually (generated by roxygen2)

### Formatting
- 2 space indentation
- Snake_case for function names (e.g., `substrRight`, `ggplot2_settings_on`)
- Parameter descriptions on same line as parameter
- Complex parameter lists: one per line
- No trailing whitespace

### Imports
- Use explicit namespace calls (e.g., `utils::write.table()`, `IRanges::start()`)
- Check package availability with `requireNamespace("pkg", quietly = TRUE)` for optional deps
- Imports go in DESCRIPTION, use `::` in code

### Error Handling
- Use `stop()` for errors with descriptive messages
- Set `call. = FALSE` in stop calls
- Check dependencies before use

### Function Returns
- Use `return(invisible())` for functions called for side effects
- Return values directly otherwise

### Testing
- testthat framework
- Tests in tests/testthat/
- Use `context()` for test file grouping
- Use `test_that()` for individual tests
- Use `expect_equal()` for assertions

## Project Structure
- R/ - Source code (.R files)
- tests/testthat/ - Test files
- man/ - Documentation (auto-generated)
- DESCRIPTION - Package metadata
- NAMESPACE - Auto-generated by roxygen2
- vignettes/ - Package vignettes

## Package Dependencies
- R >= 4.1.0
- methods, ggplot2 (>= 3.4.0) (Depends)
- testthat (Suggests - for testing)
- IRanges (Suggests - optional)
- pandoc (>= 2.0) (SystemRequirements - for vignette building)
